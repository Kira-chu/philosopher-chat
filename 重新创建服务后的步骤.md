# ✅ 重新创建服务后的步骤

## 好消息：不需要配置端口！

Railway 会自动处理端口，你只需要：

---

## 第一步：确认 Root Directory（你已经设置了！）

我看到你的 Root Directory 已经设置为 `backend`，很好！✅

---

## 第二步：添加环境变量（重要！）

1. **点击顶部的 "Variables"（环境变量）标签**
   - 在 "Settings" 标签旁边

2. **点击 "New Variable"（新建变量）按钮**

3. **添加第一个变量：**
   - **Name（名称）**：`DEEPSEEK_API_KEY`
   - **Value（值）**：`sk-27b719807adf432a977ace6fdfb58d59`
   - 点击 **"Add"** 或 **"Save"**

4. **再次点击 "New Variable"，添加第二个变量：**
   - **Name**：`DEEPSEEK_API_BASE`
   - **Value**：`https://api.deepseek.com`
   - 点击 **"Add"**

5. **再次点击 "New Variable"，添加第三个变量：**
   - **Name**：`DEEPSEEK_MODEL`
   - **Value**：`deepseek-chat`
   - 点击 **"Add"**

---

## 第三步：等待自动部署

添加环境变量后，Railway 会自动开始部署。

1. **点击 "Deployments"（部署）标签**
2. **查看部署进度**
3. **等待 2-3 分钟**

---

## 第四步：检查部署状态

1. **在 "Deployments" 标签中查看状态**
   - 如果显示 **"Active"** 或 **"Success"**，说明部署成功！✅
   - 如果显示 **"Failed"**，点击 "View logs" 查看错误

---

## 第五步：获取后端 URL（部署成功后）

1. **点击 "Settings" 标签**
2. **找到 "Networking"（网络）部分**
   - 或者查找 "Domains"（域名）部分
3. **点击 "Generate Domain"（生成域名）** 或 **"Generate Public URL"**
4. **复制生成的 URL**（例如：`https://easygoing-upliftment-production.up.railway.app`）
5. **这个 URL 后面部署前端时会用到！**

---

## 第六步：测试后端（可选）

1. **打开浏览器，访问：你的URL + `/api/health`**
   - 例如：`https://easygoing-upliftment-production.up.railway.app/api/health`
2. **应该看到：`{"status":"ok"}`**
3. **如果看到这个，说明后端部署成功！** ✅

---

## 🎯 重要提示

- ✅ **不需要配置端口**，Railway 会自动处理
- ✅ Root Directory 已经设置为 `backend`，很好！
- ✅ 添加完环境变量后会自动部署
- ✅ 部署成功后获取 URL，然后继续部署前端

---

## 📝 检查清单

- [ ] Root Directory 是 `backend`（已完成 ✅）
- [ ] 已添加 `DEEPSEEK_API_KEY` 环境变量
- [ ] 已添加 `DEEPSEEK_API_BASE` 环境变量
- [ ] 已添加 `DEEPSEEK_MODEL` 环境变量
- [ ] 部署状态显示 "Active" 或 "Success"
- [ ] 已获取后端 URL

完成这些步骤后，告诉我部署状态，我们继续部署前端！

